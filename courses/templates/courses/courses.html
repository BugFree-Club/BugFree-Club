{% extends 'manage_site/base.html' %}

{% block body %}
    <h2>课程列表页</h2>
    <br>
    {% for course in course_list %}
        <div>
             <br>
            <p>课程名称：<a href="{% url 'course_detail' course.id %}">{{ course.name }}</a></p>
            <img src="{{ course.image.url }}" alt="">
            <p>课程添加时间：{{ course.add_time }}</p>
            <p>点击数：{{ course.click_nums }}</p>
            <p>学习人数：{{ course.students }}</p>
             <br>
            </div>
    {% endfor %}

    <!--分页-->
     <ul class="pagination justify-content-center">
        {% if course_list.has_previous %}
        <li class="page-item">
            <a class="page-link" href="{% url 'course_list' %}?page={{ course_list.previous_page_number }}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">上一页</span>
            </a>
        </li>
        {% endif %}

        {% for num in paginator.page_range %}
            {% if num == currentPage %}
                <li class="page-item active"><a class="page-link" onclick="send()" href="{% url 'course_list' %}?page={{ num }}">{{ num }}</a></li>
            {% else %}
                <li class="page-item"><a class="page-link" href="{% url 'course_list' %}?page={{ num }}">{{ num }}</a></li>
            {% endif %}
        {% endfor %}

        {% if course_list.has_next %}
            <li class="page-item">
            <a class="page-link"  href="{% url 'course_list' %}?page={{ course_list.next_page_number }}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">下一页</span>
            </a>
        </li>
        {% endif %}
    </ul>
{% endblock %}